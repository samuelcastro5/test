{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { FormGroup, FormControl, Validators } from '@angular/forms';\nlet EditComponent = class EditComponent {\n  constructor(api, router, formBuilder, activerouter) {\n    this.api = api;\n    this.router = router;\n    this.formBuilder = formBuilder;\n    this.activerouter = activerouter;\n    this.ocultarD = false;\n    this.datosSku = 0;\n    this.nuevoForm = new FormGroup({\n      id: new FormControl(''),\n      sku: new FormControl('', [Validators.maxLength(6), Validators.required, Validators.minLength(1)]),\n      article: new FormControl('', [Validators.maxLength(15), Validators.required, Validators.minLength(1)]),\n      stl_marca: new FormControl('', [Validators.maxLength(15), Validators.required, Validators.minLength(1)]),\n      model: new FormControl('', [Validators.maxLength(20), Validators.required, Validators.minLength(1)]),\n      department: new FormControl('', [Validators.required]),\n      clas: new FormControl('', [Validators.required]),\n      family: new FormControl('', [Validators.required]),\n      stock: new FormControl('', [Validators.maxLength(9), Validators.required, Validators.minLength(1)]),\n      amount: new FormControl('', [Validators.maxLength(9), Validators.required, Validators.minLength(1)]),\n      discontinued: new FormControl(''),\n      create_date: new FormControl(''),\n      finish_date: new FormControl('')\n    });\n    this.nuevoForm.get(\"sku\")?.valueChanges.subscribe(x => {\n      console.log('firstname value changed');\n      if (x.toString().length == 6) {\n        this.api.getDataBySku(Number(x)).subscribe(data => {\n          if (data.sku > 0) {\n            this.nuevoForm.controls[\"sku\"].setValue(\"\");\n            alert(\"SKU YA EXISTE..\");\n          }\n        });\n      }\n      console.log(x);\n    });\n  }\n  ngOnInit() {\n    let skuId = this.activerouter.snapshot.paramMap.get('id');\n    if (skuId) {\n      this.ocultarD = true;\n      this.api.getSkuById(skuId).subscribe(data => {\n        this.nuevoForm.setValue({\n          id: data.id,\n          sku: data.sku,\n          article: data.article,\n          stl_marca: data.stl_marca,\n          model: data.model,\n          department: data.department,\n          clas: data.clas,\n          family: data.family,\n          stock: data.stock,\n          amount: data.amount,\n          discontinued: data.discontinued,\n          create_date: data.create_date,\n          finish_date: data.finish_date\n        });\n      });\n    }\n  }\n  postForm(form) {\n    if (form.amount > form.stock) {\n      alert(\"la cantidad no debe ser mayor al stock\");\n    } else if (form.sku.toString() == \"\") {\n      alert(\"FAVOR DE CAPTURAR UN SKU\");\n    } else if (form.sku.toString().length != 6) {\n      alert(\"FAVOR DE CAPTURAR UN SKU DE 6 DIGITOS\");\n    } else if (form.article.toString() == \"\") {\n      alert(\"FAVOR DE ESCRIBIR UN ARTICULO...\");\n    } else if (form.stl_marca.toString() == \"\") {\n      alert(\"FAVOR PONER LA MARCA...\");\n    } else if (form.model.toString() == \"\") {\n      alert(\"FAVOR DE ESCRIBIR EL MODELO...\");\n    } else if (form.department.toString() == \"\") {\n      alert(\"FAVOR DE PONER EL DEPARTAMENTO...\");\n    }\n    if (form.clas.toString() == \"\") {\n      alert(\"FAVOR DE PONER EL NUMERO DE CLASE...\");\n    } else if (form.family.toString() == \"\") {\n      alert(\"FAVOR DE PONER EL NUMERO DE FAMILIA...\");\n    } else if (form.stock.toString() == \"\") {\n      alert(\"FAVOR DE ESCRIBIR UN STOCK...\");\n    } else if (form.amount.toString() == \"\") {\n      alert(\"FAVOR DE ESCRIBIR UNA CANTIDAD...\");\n    } else {\n      if (form.id) {\n        this.api.updateSku(form);\n      } else {\n        this.api.saveSku(form);\n        this.salir();\n      }\n    }\n  }\n  salir() {\n    this.router.navigate(['tabla']);\n  }\n};\nEditComponent = __decorate([Component({\n  selector: 'app-edit',\n  templateUrl: './edit.component.html',\n  styleUrls: ['./edit.component.css']\n})], EditComponent);\nexport { EditComponent };","map":{"version":3,"names":["Component","FormGroup","FormControl","Validators","EditComponent","constructor","api","router","formBuilder","activerouter","ocultarD","datosSku","nuevoForm","id","sku","maxLength","required","minLength","article","stl_marca","model","department","clas","family","stock","amount","discontinued","create_date","finish_date","get","valueChanges","subscribe","x","console","log","toString","length","getDataBySku","Number","data","controls","setValue","alert","ngOnInit","skuId","snapshot","paramMap","getSkuById","postForm","form","updateSku","saveSku","salir","navigate","__decorate","selector","templateUrl","styleUrls"],"sources":["C:\\Users\\BRANDON\\Documents\\angular\\angularapi\\src\\app\\tablaedit\\tablaedit.component.ts"],"sourcesContent":["\nimport { Component, OnInit } from '@angular/core';\nimport { Sku } from '../modelos/sku.interface';\nimport { ApiService } from '../service/api.service';\nimport { FormGroup, FormControl, Validators, FormBuilder } from '@angular/forms';\nimport { Router, ActivatedRoute } from '@angular/router';\n\n\n@Component({\n  selector: 'app-edit',\n  templateUrl: './edit.component.html',\n  styleUrls: ['./edit.component.css']\n})\nexport class EditComponent implements OnInit {\n\n  nuevoForm: FormGroup;\n  ocultarD: boolean;\n  datosSku: number;\n\n\n  constructor(private api: ApiService, private router: Router, private formBuilder: FormBuilder, private activerouter: ActivatedRoute) {\n    this.ocultarD = false;\n    this.datosSku = 0;\n\n    this.nuevoForm = new FormGroup({\n      id: new FormControl(''),\n      sku: new FormControl('', [Validators.maxLength(6), Validators.required, Validators.minLength(1)]),\n      article: new FormControl('', [Validators.maxLength(15), Validators.required, Validators.minLength(1)]),\n      stl_marca: new FormControl('', [Validators.maxLength(15), Validators.required, Validators.minLength(1)]),\n      model: new FormControl('', [Validators.maxLength(20), Validators.required, Validators.minLength(1)]),\n      department: new FormControl('', [Validators.required]),\n      clas: new FormControl('', [Validators.required]),\n      family: new FormControl('', [Validators.required]),\n      stock: new FormControl('', [Validators.maxLength(9), Validators.required, Validators.minLength(1)]),\n      amount: new FormControl('', [Validators.maxLength(9), Validators.required, Validators.minLength(1)]),\n      discontinued: new FormControl(''),\n      create_date: new FormControl(''),\n      finish_date: new FormControl('')\n    });\n    this.nuevoForm.get(\"sku\")?.valueChanges.subscribe(x => {\n      console.log('firstname value changed')\n      if(x.toString().length==6){\n        this.api.getDataBySku(Number(x)).subscribe(data=> {\n          if(data.sku>0){\n            this.nuevoForm.controls[\"sku\"].setValue(\"\");\n            alert(\"SKU YA EXISTE..\");\n          }\n        });\n      }\n      console.log(x)\n   })\n  }\n \n  \n  ngOnInit(): void {\n    let skuId = this.activerouter.snapshot.paramMap.get('id');\n    if (skuId) {\n      this.ocultarD = true;\n      this.api.getSkuById(skuId).subscribe(data => {\n        this.nuevoForm.setValue({\n          id: data.id,\n          sku: data.sku,\n          article: data.article,\n          stl_marca: data.stl_marca,\n          model: data.model,\n          department: data.department,\n          clas: data.clas,\n          family: data.family,\n          stock: data.stock,\n          amount: data.amount,\n          discontinued: data.discontinued,\n          create_date: data.create_date,\n          finish_date: data.finish_date\n        });\n\n      })\n    }\n  }\n\n\n  postForm(form: Sku) {\n    if (form.amount > form.stock) {\n      alert(\"la cantidad no debe ser mayor al stock\");\n    }\n    else if (form.sku.toString() == \"\") {\n      alert(\"FAVOR DE CAPTURAR UN SKU\");\n    }\n    else if (form.sku.toString().length != 6) {\n      alert(\"FAVOR DE CAPTURAR UN SKU DE 6 DIGITOS\");\n    }\n    else if (form.article.toString() == \"\") {\n      alert(\"FAVOR DE ESCRIBIR UN ARTICULO...\")\n    }\n    else if (form.stl_marca.toString() == \"\") {\n      alert(\"FAVOR PONER LA MARCA...\")\n    }\n    else if (form.model.toString() == \"\") {\n      alert(\"FAVOR DE ESCRIBIR EL MODELO...\")\n    }\n    else if (form.department.toString() == \"\") {\n      alert(\"FAVOR DE PONER EL DEPARTAMENTO...\")\n    }\n    if (form.clas.toString()==\"\") {\n      alert(\"FAVOR DE PONER EL NUMERO DE CLASE...\")\n    }\n    else if (form.family.toString() == \"\") {\n      alert(\"FAVOR DE PONER EL NUMERO DE FAMILIA...\")\n\n    }\n    else if (form.stock.toString() == \"\") {\n      alert(\"FAVOR DE ESCRIBIR UN STOCK...\")\n\n    }\n    else if (form.amount.toString() == \"\") {\n      alert(\"FAVOR DE ESCRIBIR UNA CANTIDAD...\")\n    }\n    else {\n      if (form.id) {\n        this.api.updateSku(form);\n      }\n      else {\n         this.api.saveSku(form);\n          this.salir();   \n      }\n\n\n\n    }\n\n  }\n\n  salir() {\n    this.router.navigate(['tabla']);\n\n  }\n\n\n\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}